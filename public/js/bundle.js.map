{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;;;;;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACnJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://shop/./public/js/category.js","webpack://shop/./public/js/fetchAPI.js","webpack://shop/webpack/bootstrap","webpack://shop/webpack/runtime/define property getters","webpack://shop/webpack/runtime/hasOwnProperty shorthand","webpack://shop/webpack/runtime/make namespace object","webpack://shop/./public/js/index.js"],"sourcesContent":["import {\r\n\tpostDataAPI,\r\n\tdeleteDataAPI,\r\n\tpatchDataAPI,\r\n\tgetDataAPI,\r\n} from './fetchAPI';\r\n\r\nconst createCategory = async (name) => {\r\n\ttry {\r\n\t\tconst res = await postDataAPI('category', { name });\r\n\t\tif (res.data.status === 'success') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.log('error');\r\n\t}\r\n};\r\n\r\nconst deleteCategory = async (id) => {\r\n\ttry {\r\n\t\tconst res = await deleteDataAPI(`category/${id}`);\r\n\t\tconsole.log(res);\r\n\t\tif (res.status === 204) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.log('error');\r\n\t}\r\n};\r\n\r\nconst updateCategory = async (id, data) => {\r\n\ttry {\r\n\t\tdata.slug = data.slug.replace(/ /g, '-');\r\n\t\tconst res = await patchDataAPI(`category/${id}`, data);\r\n\t\tif (res.status === 200) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n\r\nconst buildPage = () => {};\r\n\r\nconst renderCategory = async () => {\r\n\tconst tableList = $('#table')[0];\r\n\r\n\tconst buildList = async () => {\r\n\t\tconst { data } = await getDataAPI('category');\r\n\t\tconst listCategory = data.data;\r\n\t\ttableList.innerHTML = listCategory\r\n\t\t\t.map((category) => {\r\n\t\t\t\treturn `\r\n\t\t\t<div class=\"item-list\" data-id=${category._id}>\r\n\t\t\t<div class=\"row align-items-center\">\r\n\t\t\t\t<div class=\"col-lg-4 col-sm-4 col-8 flex-grow-1 col-name\">\r\n\t\t\t\t\t<div class=\"itemside\">\r\n\t\t\t\t\t\t<div class=\"info\">${category.name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-lg-4 col-sm-4 col-8 col-slug\"><span>${\r\n\t\t\t\t\tcategory.slug\r\n\t\t\t\t}</span></div>\r\n\t\t\t\t<div class=\"col-lg-1 col-sm-2 col-4 col-date\"><span>${new Date(\r\n\t\t\t\t\tcategory.createdAt,\r\n\t\t\t\t).toLocaleDateString()}</span></div>\r\n\t\t\t\t<div class=\"col-lg-2 col-sm-2 col-4 col-action text-end\">\r\n\t\t\t\t\t<div class=\"btn btn-sm font-sm rounded btn-brand\" data-bs-toggle=\"modal\" data-bs-target=\"#updateModal\"><i class=\"bi bi-pencil\"></i>Sửa</div>\r\n\t\t\t\t\t<div class=\"btn btn-sm font-sm btn-light rounded btn btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\"><i class=\"bi bi-trash\"></i>Xoá</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\t`;\r\n\t\t\t})\r\n\t\t\t.join('');\r\n\t};\r\n\r\n\t$('#addNewModal').on('shown.bs.modal', function (e) {\r\n\t\tconst addCategoryButton = $('.btn-addCategory')[0];\r\n\r\n\t\taddCategoryButton.onclick = async (e) => {\r\n\t\t\tconst name = document.querySelector('#nameCategory').value;\r\n\r\n\t\t\tconst isSuccess = await createCategory(name);\r\n\t\t\tif (isSuccess) {\r\n\t\t\t\tdocument.querySelector('#nameCategory').value = '';\r\n\t\t\t\t$('#addNewModal').modal('hide');\r\n\t\t\t\tbuildList();\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n\t//----------------------------------------\r\n\r\n\t// Delete category\r\n\tconst deleteCategoryButton = $('.btn-delete')[0];\r\n\t$('#deleteModal').on('show.bs.modal', function (e) {\r\n\t\t// get row\r\n\t\tconst item = $(e.relatedTarget).closest('.item-list');\r\n\t\tconst itemId = item.attr('data-id');\r\n\r\n\t\tdeleteCategoryButton.setAttribute('delete-id', itemId);\r\n\r\n\t\tdeleteCategoryButton.onclick = async (e) => {\r\n\t\t\tconst deleteId = deleteCategoryButton.getAttribute('delete-id');\r\n\t\t\tconst isSuccess = await deleteCategory(deleteId);\r\n\t\t\tif (isSuccess) {\r\n\t\t\t\t$('#deleteModal').modal('hide');\r\n\t\t\t\tbuildList();\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n\t//------------------------------\r\n\r\n\t// Update category\r\n\t$('#updateModal').on('show.bs.modal', function (e) {\r\n\t\t// get row\r\n\t\tconst item = $(e.relatedTarget).closest('.item-list');\r\n\t\tconst itemId = item.attr('data-id');\r\n\t\tconst itemName = item.find('.col-name .info')[0].innerText;\r\n\t\tconst itemSlug = item.find('.col-slug span')[0].innerText;\r\n\r\n\t\t// Set giá trị khi hiện modal update\r\n\t\t$('#nameCategoryUpdate')[0].value = itemName;\r\n\t\t$('#slugUpdate')[0].value = itemSlug;\r\n\r\n\t\tconst updateCategoryButton = $('.btn-update-category')[0];\r\n\r\n\t\tupdateCategoryButton.setAttribute('update-id', itemId);\r\n\t\tupdateCategoryButton.onclick = (e) => {\r\n\t\t\tconst deleteId = updateCategoryButton.getAttribute('update-id');\r\n\t\t\tconst name = $('#nameCategoryUpdate')[0].value;\r\n\t\t\tconst slug = $('#slugUpdate')[0].value;\r\n\r\n\t\t\tconst isSuccess = updateCategory(deleteId, { name, slug });\r\n\r\n\t\t\tif (isSuccess) {\r\n\t\t\t\t$('#updateModal').modal('hide');\r\n\t\t\t\tbuildList();\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n\tbuildList();\r\n};\r\n\r\nexport { createCategory, deleteCategory, updateCategory, renderCategory };\r\n","export const getDataAPI = async (url) => {\r\n\tconst res = await axios.get(`http://localhost:8000/api/v1/${url}`);\r\n\treturn res;\r\n};\r\n\r\nexport const postDataAPI = async (url, data) => {\r\n\tconst res = await axios.post(`http://localhost:8000/api/v1/${url}`, data);\r\n\treturn res;\r\n};\r\n\r\nexport const patchDataAPI = async (url, data) => {\r\n\tconst res = await axios.patch(`http://localhost:8000/api/v1/${url}`, data);\r\n\treturn res;\r\n};\r\n\r\nexport const putDataAPI = async (url, data) => {\r\n\tconst res = await axios.put(`http://localhost:8000/api/v1/${url}`, data);\r\n\treturn res;\r\n};\r\n\r\nexport const deleteDataAPI = async (url, data) => {\r\n\tconst res = await axios.delete(`http://localhost:8000/api/v1/${url}`);\r\n\treturn res;\r\n};\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\r\n\tcreateCategory,\r\n\tdeleteCategory,\r\n\tupdateCategory,\r\n\trenderCategory,\r\n} from './category';\r\n\r\n$(document).ready(function () {\r\n\t// Phân loại các trang\r\n\tconst category = $('#category');\r\n\r\n\t//-----------------------------------------\r\n\t$('.chosen-select').chosen({\r\n\t\tno_results_text: 'Oops, nothing found!',\r\n\t});\r\n\r\n\t$('.menu-link').each((index, el) => {\r\n\t\tif (window.location.pathname === el.pathname) {\r\n\t\t\tel.parentElement.classList.add('active');\r\n\t\t}\r\n\t});\r\n\r\n\tif (category) {\r\n\t\trenderCategory();\r\n\t\t// Add new category\r\n\r\n\t\t// ------------------------------\r\n\t}\r\n});\r\n"],"names":[],"sourceRoot":""}